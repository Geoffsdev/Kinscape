---
openapi: 3.0.1
components:
  securitySchemes:
    cookie:
      type: apiKey
      name: cookie
      in: header
      description: use remember_token_development
info:
  title: API V1
  version: v1
consumes:
- application/json
produces:
- application/json
paths:
  "/api/v1/categories":
    get:
      summary: list categories
      security:
      - cookie: []
      tags:
      - Category
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - text: sun
                  number: 1
                - text: moon
                  number: 1
                - text: '12'
                  number: 1
  "/api/v1/chapters":
    get:
      summary: list chapters
      security:
      - cookie: []
      tags:
      - Chapter
      parameters:
      - name: object_id
        in: query
        schema:
          type: string
      - name: object_type
        in: query
        enum:
        - Family
        - Kinship
        schema:
          type: string
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: '2'
                  type: chapter
                  attributes:
                    title: With a family header
                    body: 
                    position: 0
                    appreciations_count: 0
                    created_at: '2022-02-11T13:56:14.250Z'
                    updated_at: '2022-02-11T13:56:14.278Z'
                    appreciation_id: 
                    rich_body:
                      id: 2
                      name: rich_body
                      body: "&gt;<p>This is a text chapter</p><p></p>"
                      record_type: Chapter
                      record_id: 2
                      created_at: '2022-02-11T13:56:14.260Z'
                      updated_at: '2022-02-11T13:56:14.260Z'
                      html: <div class="trix-content">  &gt;<p>This is a text chapter</p><p></p></div>
                    author_avatar_url: 
                    author_name: 
    post:
      summary: create chapter
      security:
      - cookie: []
      tags:
      - Chapter
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '5'
                  type: chapter
                  attributes:
                    title: Brzeczyszczykiewicz
                    body: 
                    position: 1
                    appreciations_count: 0
                    created_at: '2022-02-11T13:56:14.563Z'
                    updated_at: '2022-02-11T13:56:14.576Z'
                    appreciation_id: 
                    rich_body:
                      id: 5
                      name: rich_body
                      body: '{"body"=&gt;"some body"}'
                      record_type: Chapter
                      record_id: 5
                      created_at: '2022-02-11T13:56:14.573Z'
                      updated_at: '2022-02-11T13:56:14.573Z'
                      html: <div class="trix-content">  {"body"=&gt;"some body"}</div>
                    author_avatar_url: 
                    author_name: Desmond
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                object_id:
                  type: string
                object_type:
                  type: string
                  enum:
                  - Family
                  - Kinship
                position:
                  type: integer
                title:
                  type: string
                rich_body:
                  type: object
                  properties:
                    body:
                      type: string
              example:
                position: 1
                rich_body:
                  body: some body
                title: Brzeczyszczykiewicz
                object_id: 2wKDu4g2meR
                object_type: Family
  "/api/v1/chapters/{id}":
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
    patch:
      summary: update chapter
      security:
      - cookie: []
      tags:
      - Chapter
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '7'
                  type: chapter
                  attributes:
                    title: Brzeczyszczykiewicz
                    body: 
                    position: 1
                    appreciations_count: 0
                    created_at: '2022-02-11T13:56:14.765Z'
                    updated_at: '2022-02-11T13:56:14.850Z'
                    appreciation_id: 
                    rich_body:
                      record_id: 7
                      body: some body
                      id: 7
                      name: rich_body
                      record_type: Chapter
                      created_at: '2022-02-11T13:56:14.770Z'
                      updated_at: '2022-02-11T13:56:14.838Z'
                      html: <div class="trix-content">  some body</div>
                    author_avatar_url: 
                    author_name: 
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                position:
                  type: integer
                object_id:
                  type: string
                object_type:
                  type: string
                  enum:
                  - Family
                  - Kinship
                title:
                  type: string
                rich_body:
                  type: object
                  properties:
                    body:
                      type: string
              example:
                position: 1
                rich_body:
                  body: some body
                title: Brzeczyszczykiewicz
                object_id: 9w2Btfv0IOR
                object_type: Family
    delete:
      summary: delete chapter
      security:
      - cookie: []
      tags:
      - Chapter
      parameters:
      - name: object_id
        in: query
        schema:
          type: string
      - name: object_type
        in: query
        enum:
        - Family
        - Kinship
        schema:
          type: string
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
  "/api/v1/families/{family_id}/invitations":
    parameters:
    - name: family_id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: list invitations
      security:
      - cookie: []
      tags:
      - Invitation
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: 147729d6-dc76-4c55-ae64-882002dbbcb0
                  type: invitation
                  attributes:
                    created_at: '2022-02-11T13:56:15.630Z'
                    sender_id: 14
                    recipient_id: 16
                    email: user16@example.com
                    accepted_at: 
                    message: ''
                    role: member
                    personal: false
                    family_id: AHAye1JN7r2
                    family_name: Test family
                    family_type: Community
                    family_cover_url: 
                    sender_name: Eleonor
                    sender_kinship_id: 43
                  relationships:
                    family:
                      data:
                        id: AHAye1JN7r2
                        type: family
                included:
                - id: AHAye1JN7r2
                  type: family
                  attributes:
                    name: Test family
                    motto: ''
                    family_type: Community
                    description: 
                    created_at: '2022-02-11T13:56:15.561Z'
                    users_ids:
                    - 14
                    - 15
                    admin_avatar_url: 
                    cover_url: 
                    vault_id: 27
                    links: []
                    is_connected_by_current_user: true
                    connector_id: 14
                    connector_name: Eleonor
                  relationships:
                    kinships:
                      data:
                      - id: '43'
                        type: kinship
                      - id: '44'
                        type: kinship
                    chapters:
                      data: []
    post:
      summary: create invitation
      security:
      - cookie: []
      tags:
      - Invitation
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                valid:
                - some_email@valid.com
                invalid:
                - invalid.com
                existing:
                - user21@example.com
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                users:
                  type: array
                  items:
                    type: object
                    properties:
                      email:
                        type: string
                      id:
                        type: string
                      role:
                        type: string
                        enum:
                        - co_admin
                        - member
                        - offline_member
                        - guest
              example:
                invitation:
                  message: some
                  users:
                  - email: some_email@valid.com
                    id: 
                    role: co_admin
                  - email: invalid.com
                    id: 
                    role: co_admin
                  - email: user21@example.com
                    id: 
                    role: co_admin
  "/api/v1/families/{family_id}/kinships":
    parameters:
    - name: family_id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: list kinships
      security:
      - cookie: []
      tags:
      - Kinship
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: '68'
                  type: kinship
                  attributes:
                    created_at: '2022-02-11T13:56:19.781Z'
                    user_id: 24
                    avatar_url: 
                    nickname: Tyrone
                    role: admin
                    profile_attrs: {}
                    description: 
                    family_id: 3srxR0p1xfU
                    links: []
                    name: Tyrone
                    invited_by: 
                    is_connected_by_current_user: true
                    is_current_user_connector: true
                  relationships:
                    family:
                      data:
                        id: 3srxR0p1xfU
                        type: family
                    chapters:
                      data: []
  "/api/v1/families/{family_id}/offline_members":
    parameters:
    - name: family_id
      in: path
      required: true
      schema:
        type: string
    post:
      summary: create offline_member
      security:
      - cookie: []
      tags:
      - Offline Member
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '75'
                  type: kinship
                  attributes:
                    created_at: '2022-02-11T13:56:20.156Z'
                    user_id: 
                    avatar_url: "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ef187f73b9ff47a2c5543b4be8e9028d8456d903/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJc0FXa0NMQUU9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--879821448b577288447c4bbd5aaf8d712dc4cae8/image.jpg"
                    nickname: johnny bravo
                    role: offline_member
                    profile_attrs:
                      emails:
                      - value: johnny@email.com
                        name: email - private
                    description: my fav anime character
                    family_id: 98LQHdU56Mv
                    links: []
                    name: johnny bravo
                    invited_by: Wanita
                    is_connected_by_current_user: false
                    is_current_user_connector: false
                  relationships:
                    family:
                      data:
                        id: 98LQHdU56Mv
                        type: family
                    chapters:
                      data: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                avatar:
                  type: string
                nickname:
                  type: string
                description:
                  type: string
                profile_attrs:
                  type: json
              example:
                avatar: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--ef187f73b9ff47a2c5543b4be8e9028d8456d903
                nickname: johnny bravo
                description: my fav anime character
                profile_attrs:
                  emails:
                  - value: johnny@email.com
                    name: email - private
  "/api/v1/families/{family_id}/offline_members/{id}":
    parameters:
    - name: family_id
      in: path
      required: true
      schema:
        type: string
    - name: id
      in: path
      required: true
      schema:
        type: string
    patch:
      summary: update offline_member
      security:
      - cookie: []
      tags:
      - Offline Member
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '81'
                  type: kinship
                  attributes:
                    created_at: '2022-02-11T13:56:20.424Z'
                    user_id: 28
                    avatar_url: "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b170caef25414380eca597ddd1c543a3d17733a2/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJc0FXa0NMQUU9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--879821448b577288447c4bbd5aaf8d712dc4cae8/image.jpg"
                    nickname: johnny bravo
                    role: admin
                    profile_attrs:
                      emails:
                      - value: johnny@email.com
                        name: email - private
                    description: my fav anime character
                    family_id: 1enS8el2GCC
                    links: []
                    name: johnny bravo
                    invited_by: 
                    is_connected_by_current_user: true
                    is_current_user_connector: true
                  relationships:
                    family:
                      data:
                        id: 1enS8el2GCC
                        type: family
                    chapters:
                      data: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                avatar:
                  type: string
                nickname:
                  type: string
                description:
                  type: string
                profile_attrs:
                  type: json
              example:
                avatar: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b170caef25414380eca597ddd1c543a3d17733a2
                nickname: johnny bravo
                description: my fav anime character
                profile_attrs:
                  emails:
                  - value: johnny@email.com
                    name: email - private
  "/api/v1/families/quick_list":
    get:
      summary: quick_list family
      security:
      - cookie: []
      tags:
      - Family
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: 6HHHgHsQDgz
                  type: family
                  attributes:
                    name: Barkins
                    cover_url: 
                  relationships:
                    kinships:
                      data:
                      - id: '91'
                        type: kinship
                - id: 99mAYDosbrC
                  type: family
                  attributes:
                    name: Purrkins
                    cover_url: 
                  relationships:
                    kinships:
                      data:
                      - id: '90'
                        type: kinship
                - id: 5gCYaryzaK9
                  type: family
                  attributes:
                    name: Z-last
                    cover_url: 
                  relationships:
                    kinships:
                      data:
                      - id: '89'
                        type: kinship
                included:
                - id: '91'
                  type: kinship
                  attributes:
                    nickname: Omar
                    avatar_url: 
                    user_id: 30
                  relationships: {}
                - id: '90'
                  type: kinship
                  attributes:
                    nickname: Omar
                    avatar_url: 
                    user_id: 30
                  relationships: {}
                - id: '89'
                  type: kinship
                  attributes:
                    nickname: some nick
                    avatar_url: 
                    user_id: 30
                  relationships: {}
  "/api/v1/families":
    get:
      summary: list families
      security:
      - cookie: []
      tags:
      - Family
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: 26AsGJT4UeX
                  type: family
                  attributes:
                    name: Barkins
                    motto: ''
                    family_type: Community
                    description: 
                    created_at: '2022-02-11T13:56:21.193Z'
                    users_ids:
                    - 32
                    admin_avatar_url: 
                    cover_url: 
                    vault_id: 64
                    links: []
                    is_connected_by_current_user: true
                    connector_id: 32
                    connector_name: Lonny
                  relationships: {}
                - id: 4D4Xb3PxXze
                  type: family
                  attributes:
                    name: Purrkins
                    motto: ''
                    family_type: Community
                    description: 
                    created_at: '2022-02-11T13:56:21.168Z'
                    users_ids:
                    - 32
                    admin_avatar_url: 
                    cover_url: 
                    vault_id: 63
                    links: []
                    is_connected_by_current_user: true
                    connector_id: 32
                    connector_name: Lonny
                  relationships: {}
                - id: AXwdjysj3QN
                  type: family
                  attributes:
                    name: Z-last
                    motto: ''
                    family_type: Community
                    description: 
                    created_at: '2022-02-11T13:56:21.140Z'
                    users_ids:
                    - 32
                    admin_avatar_url: 
                    cover_url: 
                    vault_id: 62
                    links: []
                    is_connected_by_current_user: true
                    connector_id: 32
                    connector_name: Lonny
                  relationships: {}
    post:
      summary: create family
      security:
      - cookie: []
      tags:
      - Family
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: 8bSrjB7sKDU
                  type: family
                  attributes:
                    name: some name
                    motto: some test description
                    family_type: some
                    description: 
                    created_at: '2022-02-11T13:56:21.658Z'
                    users_ids:
                    - 34
                    admin_avatar_url: 
                    cover_url: "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--6cebd9806f5f6fad1ebf2aa041ab11cb6bd16653/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJc0FXa0NMQUU9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--879821448b577288447c4bbd5aaf8d712dc4cae8/image.jpg"
                    vault_id: 73
                    links: []
                    is_connected_by_current_user: true
                    connector_id: 34
                    connector_name: Felipe Davis
                  relationships:
                    kinships:
                      data:
                      - id: '112'
                        type: kinship
                    chapters:
                      data: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                motto:
                  type: string
                cover:
                  type: string
                family_type:
                  type: string
              example:
                name: some name
                motto: some test description
                cover: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--6cebd9806f5f6fad1ebf2aa041ab11cb6bd16653
                family_type: some
  "/api/v1/families/{id}":
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: show family
      security:
      - cookie: []
      tags:
      - Family
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: 52Np8Cq83WY
                  type: family
                  attributes:
                    name: Z-last
                    motto: ''
                    family_type: Community
                    description: 
                    created_at: '2022-02-11T13:56:21.930Z'
                    users_ids:
                    - 36
                    admin_avatar_url: 
                    cover_url: 
                    vault_id: 79
                    links: []
                    is_connected_by_current_user: true
                    connector_id: 36
                    connector_name: Boyd
                  relationships:
                    kinships:
                      data:
                      - id: '120'
                        type: kinship
                    chapters:
                      data: []
    patch:
      summary: update family
      security:
      - cookie: []
      tags:
      - Family
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: 1LOkgDwTQaT
                  type: family
                  attributes:
                    name: some name
                    motto: some test description
                    family_type: Community
                    description: some body
                    created_at: '2022-02-11T13:56:22.281Z'
                    users_ids:
                    - 38
                    admin_avatar_url: 
                    cover_url: "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e1f87b5bbad84d0799a9fb412c70a862adc10770/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJc0FXa0NMQUU9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--879821448b577288447c4bbd5aaf8d712dc4cae8/image.jpg"
                    vault_id: 87
                    links: []
                    is_connected_by_current_user: true
                    connector_id: 38
                    connector_name: Novella
                  relationships:
                    kinships:
                      data:
                      - id: '130'
                        type: kinship
                    chapters:
                      data: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                motto:
                  type: string
                cover:
                  type: string
                description:
                  type: string
              example:
                name: some name
                motto: some test description
                description: some body
                cover: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e1f87b5bbad84d0799a9fb412c70a862adc10770
    delete:
      summary: delete family
      security:
      - cookie: []
      tags:
      - Family
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
  "/api/v1/followers":
    get:
      summary: list followers
      security:
      - cookie: []
      tags:
      - Follower
      parameters:
      - name: query
        in: query
        schema:
          type: string
      - name: showcase
        in: query
        schema:
          type: boolean
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: '155'
                  type: kinship
                  attributes:
                    nickname: Eugenio
                    avatar_url: 
                    created_at: '2022-02-11T13:56:23.137Z'
                    family_id: z4McGvOLxH
                  relationships: {}
  "/api/v1/followings":
    get:
      summary: list followings
      security:
      - cookie: []
      tags:
      - Following
      parameters:
      - name: query
        in: query
        schema:
          type: string
      - name: showcase
        in: query
        schema:
          type: boolean
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: '161'
                  type: kinship
                  attributes:
                    nickname: Ricky Bahringer
                    avatar_url: 
                    created_at: '2022-02-11T13:56:23.354Z'
                    family_id: FN4bl0CXC
                  relationships: {}
  "/api/v1/followings/{id}":
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: show following
      security:
      - cookie: []
      tags:
      - Following
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '171'
                  type: kinship
                  attributes:
                    created_at: '2022-02-11T13:56:23.654Z'
                    user_id: 52
                    avatar_url: 
                    nickname: Leslie Kemmer
                    role: admin
                    profile_attrs: {}
                    description: 
                    family_id: 6x7KuaqqIzk
                    links: []
                    name: Leslie Kemmer
                    invited_by: 
                    is_connected_by_current_user: true
                    is_current_user_connector: false
                  relationships:
                    family:
                      data:
                        id: 6x7KuaqqIzk
                        type: family
                    chapters:
                      data: []
    delete:
      summary: unfollow
      security:
      - cookie: []
      tags:
      - Following
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
  "/api/v1/invitations/resend":
    post:
      summary: resend invitations
      security:
      - cookie: []
      tags:
      - Invitation
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: 89aa55bc-ef9c-44a2-ab24-9c812902b52c
                  type: invitation
                  attributes:
                    created_at: '2022-02-11T13:56:24.446Z'
                    sender_id: 60
                    recipient_id: 61
                    email: user61@example.com
                    accepted_at: 
                    message: ''
                    role: member
                    personal: false
                    family_id: 6TxApCcaMvF
                    family_name: Test family
                    family_type: Community
                    family_cover_url: 
                    sender_name: Bart
                    sender_kinship_id: 193
                  relationships:
                    family:
                      data:
                        id: 6TxApCcaMvF
                        type: family
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                ids:
                  type: string
              required:
              - ids
              example:
                ids:
                - 89aa55bc-ef9c-44a2-ab24-9c812902b52c
  "/api/v1/invitations/{id}":
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: show invitation
      security:
      - cookie: []
      tags:
      - Invitation
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: 91ed7728-cb98-426a-bff4-7e995c30f694
                  type: invitation
                  attributes:
                    created_at: '2022-02-11T13:56:24.815Z'
                    sender_id: 64
                    recipient_id: 65
                    email: user2@example.com
                    accepted_at: 
                    message: ''
                    role: member
                    personal: false
                    family_id: 9qJU0yPfMzo
                    family_name: Test family
                    family_type: Community
                    family_cover_url: 
                    sender_name: Lory
                    sender_kinship_id: 203
                  relationships:
                    family:
                      data:
                        id: 9qJU0yPfMzo
                        type: family
                included:
                - id: 9qJU0yPfMzo
                  type: family
                  attributes:
                    name: Test family
                    motto: ''
                    family_type: Community
                    description: 
                    created_at: '2022-02-11T13:56:24.741Z'
                    users_ids:
                    - 64
                    admin_avatar_url: 
                    cover_url: 
                    vault_id: 125
                    links: []
                    is_connected_by_current_user: false
                    connector_id: 64
                    connector_name: Lory
                  relationships:
                    kinships:
                      data:
                      - id: '203'
                        type: kinship
                    chapters:
                      data: []
        '403':
          description: user already present in family
          content:
            application/json:
              example:
                message: You are already in this community
    patch:
      summary: update invitation
      security:
      - cookie: []
      tags:
      - Invitation
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: 8f60c085-0936-4ccc-80b5-f4ce3f3305ae
                  type: invitation
                  attributes:
                    created_at: '2022-02-11T13:56:25.381Z'
                    sender_id: 70
                    recipient_id: 71
                    email: user5@example.com
                    accepted_at: '2022-02-11T13:56:25.428Z'
                    message: ''
                    role: member
                    personal: false
                    family_id: 5Bk3BKdEq4a
                    family_name: Test family
                    family_type: Community
                    family_cover_url: 
                    sender_name: Johnathan
                    sender_kinship_id: 219
                  relationships:
                    family:
                      data:
                        id: 5Bk3BKdEq4a
                        type: family
                included:
                - id: 5Bk3BKdEq4a
                  type: family
                  attributes:
                    name: Test family
                    motto: ''
                    family_type: Community
                    description: 
                    created_at: '2022-02-11T13:56:25.309Z'
                    users_ids:
                    - 70
                    - 71
                    admin_avatar_url: 
                    cover_url: 
                    vault_id: 134
                    links: []
                    is_connected_by_current_user: false
                    connector_id: 70
                    connector_name: Johnathan
                  relationships:
                    kinships:
                      data:
                      - id: '219'
                        type: kinship
                      - id: '222'
                        type: kinship
                    chapters:
                      data: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                nickname:
                  type: string
                profile_attrs:
                  type: json
              example:
                invitation:
                  avatar: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3923034babe7347b6ed145bf11c50ec6325b9ddc
                  nickname: some nickname
                  profile_attrs:
                    emails:
                    - value: some@email.com
                      name: email - private
                    - value: some_work@email.com
                      name: email - work
  "/api/v1/invitations":
    delete:
      summary: delete invitation
      security:
      - cookie: []
      tags:
      - Invitation
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                ids:
                  type: array
  "/api/v1/kinships/{kinship_id}/invitation":
    parameters:
    - name: kinship_id
      in: path
      required: true
      schema:
        type: string
    post:
      summary: 'offline member to active: create invitation - user_id or email required'
      security:
      - cookie: []
      tags:
      - Offline Member
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: c4e45f04-fdb0-4dfa-b840-f325d820e08e
                  type: invitation
                  attributes:
                    created_at: '2022-02-11T13:56:26.369Z'
                    sender_id: 80
                    recipient_id: 
                    email: non_db@valid.com
                    accepted_at: 
                    message: some
                    role: co_admin
                    personal: false
                    family_id: AWWWiLVZhT8
                    family_name: Test family
                    family_type: Community
                    family_cover_url: 
                    sender_name: Terry
                    sender_kinship_id: 246
                  relationships:
                    family:
                      data:
                        id: AWWWiLVZhT8
                        type: family
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                email:
                  type: string
                role:
                  type: string
                  enum:
                  - co_admin
                  - member
                  - offline_member
                  - guest
                user_id:
                  type: string
              example:
                invitation:
                  message: some
                  email: non_db@valid.com
                  user_id: 
                  role: co_admin
  "/api/v1/kinships/{kinship_id}/offline_member":
    parameters:
    - name: kinship_id
      in: path
      required: true
      schema:
        type: string
    patch:
      summary: migrate active user to offline member
      security:
      - cookie: []
      tags:
      - Offline Member
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '259'
                  type: kinship
                  attributes:
                    created_at: '2022-02-11T13:56:26.678Z'
                    user_id: 
                    avatar_url: 
                    nickname: Yuonne
                    role: offline_member
                    profile_attrs: {}
                    description: 
                    family_id: 5eHQYCP1l0g
                    links: []
                    name: Yuonne
                    invited_by: 
                    is_connected_by_current_user: false
                    is_current_user_connector: false
                  relationships:
                    family:
                      data:
                        id: 5eHQYCP1l0g
                        type: family
                    chapters:
                      data: []
        '422':
          description: error
          content:
            application/json:
              example:
                errors:
                  status: 422
                  title: Invalid Attribute
                  detail: You are the admin for this community, please pass admin
                    rights over to another user.
  "/api/v1/kinships/{kinship_id}/role":
    parameters:
    - name: kinship_id
      in: path
      required: true
      schema:
        type: string
    patch:
      summary: update role
      security:
      - cookie: []
      tags:
      - Role
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '277'
                  type: kinship
                  attributes:
                    created_at: '2022-02-11T13:56:27.250Z'
                    user_id: 90
                    avatar_url: 
                    nickname: Judson
                    role: co_admin
                    profile_attrs: {}
                    description: 
                    family_id: 63g5e5mJArw
                    links: []
                    name: Judson
                    invited_by: 
                    is_connected_by_current_user: false
                    is_current_user_connector: false
                  relationships:
                    family:
                      data:
                        id: 63g5e5mJArw
                        type: family
                    chapters:
                      data: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                role:
                  type: string
                  enum:
                    co_admin: co_admin
                    member: member
                    offline_member: offline_member
                    guest: guest
              example:
                kinship:
                  role: co_admin
  "/api/v1/kinships/by_family/{family_id}":
    parameters:
    - name: family_id
      in: path
      required: true
      schema:
        type: string
    - name: showcase
      in: query
      schema:
        type: boolean
    get:
      summary: show kinship
      security:
      - cookie: []
      tags:
      - Kinship
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '288'
                  type: kinship
                  attributes:
                    created_at: '2022-02-11T13:56:27.613Z'
                    user_id: 93
                    avatar_url: 
                    nickname: Ali
                    role: admin
                    profile_attrs: {}
                    description: 
                    family_id: 6fsfNC2bm9e
                    links: []
                    name: Ali
                    invited_by: 
                    is_connected_by_current_user: true
                    is_current_user_connector: true
                  relationships:
                    family:
                      data:
                        id: 6fsfNC2bm9e
                        type: family
                    chapters:
                      data: []
  "/api/v1/kinships/kinship_data":
    parameters:
    - name: family_id
      in: query
      schema:
        type: string
    - name: user_id
      in: query
      schema:
        type: string
    get:
      summary: kinship_data kinship
      security:
      - cookie: []
      tags:
      - Kinship
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '300'
                  type: kinship
                  attributes:
                    created_at: '2022-02-11T13:56:27.972Z'
                    user_id: 97
                    avatar_url: 
                    nickname: Rosario
                    role: admin
                    profile_attrs: {}
                    description: 
                    family_id: 2OPD5EtIZiu
                    links: []
                    name: Rosario
                    invited_by: 
                    is_connected_by_current_user: true
                    is_current_user_connector: true
                  relationships:
                    family:
                      data:
                        id: 2OPD5EtIZiu
                        type: family
                    chapters:
                      data: []
  "/api/v1/kinships/{id}":
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: show kinship
      security:
      - cookie: []
      tags:
      - Kinship
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '313'
                  type: kinship
                  attributes:
                    created_at: '2022-02-11T13:56:28.344Z'
                    user_id: 102
                    avatar_url: 
                    nickname: Petra
                    role: member
                    profile_attrs: {}
                    description: 
                    family_id: 9sMQVsXSxnd
                    links: []
                    name: Petra
                    invited_by: 
                    is_connected_by_current_user: false
                    is_current_user_connector: false
                  relationships:
                    family:
                      data:
                        id: 9sMQVsXSxnd
                        type: family
                    chapters:
                      data: []
    patch:
      summary: update kinship
      security:
      - cookie: []
      tags:
      - Kinship
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '325'
                  type: kinship
                  attributes:
                    created_at: '2022-02-11T13:56:28.726Z'
                    user_id: 106
                    avatar_url: "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBFZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3536a8637b1b6b8ad7110344162aa56e47c79399/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJc0FXa0NMQUU9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--879821448b577288447c4bbd5aaf8d712dc4cae8/image.jpg"
                    nickname: some nickname
                    role: member
                    profile_attrs:
                      emails:
                      - value: some@email.com
                        name: email - private
                      - value: some_work@email.com
                        name: email - work
                    description: 
                    family_id: 6kOHPSxtQJI
                    links: []
                    name: some nickname
                    invited_by: 
                    is_connected_by_current_user: false
                    is_current_user_connector: false
                  relationships:
                    family:
                      data:
                        id: 6kOHPSxtQJI
                        type: family
                    chapters:
                      data: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                avatar:
                  type: string
                nickname:
                  type: string
                location:
                  type: string
                birth_date:
                  type: string
                birth_place:
                  type: string
                death_date:
                  type: string
                address:
                  type: string
                phone:
                  type: string
                email:
                  type: string
                profile_attrs:
                  type: json
                rich_profile:
                  type: object
                  properties:
                    body:
                      type: string
              example:
                avatar: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBFZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3536a8637b1b6b8ad7110344162aa56e47c79399
                nickname: some nickname
                location: some location
                birth_date: '2020'
                birth_place: January
                death_date: '2'
                address: '1'
                phone: '2020'
                email: February
                profile_attrs:
                  emails:
                  - value: some@email.com
                    name: email - private
                  - value: some_work@email.com
                    name: email - work
                rich_profile:
                  body: some body
    delete:
      summary: destroy kinship
      security:
      - cookie: []
      tags:
      - Kinship
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
  "/api/v1/messages/recipients":
    get:
      summary: list recipients
      security:
      - cookie: []
      tags:
      - Messages
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: 6qlxr2pNOy9
                  type: family
                  attributes:
                    name: AA
                    cover_url: 
                  relationships:
                    kinships:
                      data:
                      - id: '371'
                        type: kinship
                - id: 10f2ZrCSQ7N
                  type: family
                  attributes:
                    name: Barkins
                    cover_url: 
                  relationships:
                    kinships:
                      data:
                      - id: '377'
                        type: kinship
                - id: 55TVEMhDJ6E
                  type: family
                  attributes:
                    name: CC
                    cover_url: 
                  relationships:
                    kinships:
                      data:
                      - id: '367'
                        type: kinship
                - id: AT18WNH5gZF
                  type: family
                  attributes:
                    name: Purrkins
                    cover_url: 
                  relationships:
                    kinships:
                      data:
                      - id: '375'
                        type: kinship
                - id: 9fohGUpb8i5
                  type: family
                  attributes:
                    name: Z-last
                    cover_url: 
                  relationships:
                    kinships:
                      data: []
                included:
                - id: '371'
                  type: kinship
                  attributes:
                    nickname: Dana
                    avatar_url: 
                    user_id: 122
                  relationships: {}
                - id: '377'
                  type: kinship
                  attributes:
                    nickname: Herbert
                    avatar_url: 
                    user_id: 120
                  relationships: {}
                - id: '367'
                  type: kinship
                  attributes:
                    nickname: Jose Kshlerin
                    avatar_url: 
                    user_id: 121
                  relationships: {}
                - id: '375'
                  type: kinship
                  attributes:
                    nickname: Freddy
                    avatar_url: 
                    user_id: 119
                  relationships: {}
  "/api/v1/publications/{publication_id}/appreciations":
    parameters:
    - name: publication_id
      in: path
      required: true
      schema:
        type: string
    post:
      summary: create appreciation
      security:
      - cookie: []
      tags:
      - Appreciation
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '1'
                  type: appreciation
                  attributes:
                    reaction: smile
                    created_at: '2022-02-11T13:56:30.906Z'
                    appreciable_type: Publication
                    appreciable_id: 10
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                reaction:
                  type: string
                  enum:
                  - smile
                appreciable_id:
                  type: string
                appreciable_type:
                  type: string
                  enum:
                  - Publication
                  - Section
                  - Chapter
              required:
              - reaction
              - appreciable_id
              - appreciable_type
  "/api/v1/publications/{publication_id}/appreciations/{id}":
    parameters:
    - name: publication_id
      in: path
      required: true
      schema:
        type: string
    - name: id
      in: path
      required: true
      schema:
        type: string
    delete:
      summary: delete appreciation
      security:
      - cookie: []
      tags:
      - Appreciation
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
  "/api/v1/publications/{publication_id}/comments":
    parameters:
    - name: publication_id
      in: path
      required: true
      schema:
        type: string
    post:
      summary: create comment
      security:
      - cookie: []
      tags:
      - Comment
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: diyqOko10Z
                  type: comment
                  attributes:
                    body: some body!
                    created_at: '2022-02-11T13:56:32.293Z'
                    user_id: 139
                    commentable_type: Publication
                    comments_count: 0
                    commentable_id: 22
                    family_id: Pra0PPQfLX
                    user_name: Maynard
                    user_avatar_url: 
                  relationships:
                    comments:
                      data: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                body:
                  type: string
                commentable_type:
                  type: string
                  enum:
                  - Story
                  - Publication
                  - Comment
                  - Section
                commentable_id:
                  type: string
              required:
              - body
              example:
                comment:
                  body: some body!
                  commentable_type: Publication
                  commentable_id: 22
  "/api/v1/publications/{publication_id}/comments/{id}":
    parameters:
    - name: publication_id
      in: path
      required: true
      schema:
        type: string
    - name: id
      in: path
      required: true
      schema:
        type: string
    delete:
      summary: delete comment
      security:
      - cookie: []
      tags:
      - Comment
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
  "/api/v1/publications/{publication_id}/sections":
    parameters:
    - name: publication_id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: list sections
      security:
      - cookie: []
      tags:
      - Section
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: '2'
                  type: section
                  attributes:
                    body: Section body
                    position: 0
                    created_at: '2022-02-11T13:56:33.595Z'
                    updated_at: '2022-02-11T13:56:33.595Z'
                    title: 
                    author_id: 154
                    appreciations_count: 0
                    comments_count: 0
                    appreciation_id: 
                    story_id: 78qJRQqlY0j
                    rich_body:
                      id: 
                      name: rich_body
                      body: ''
                      record_type: Section
                      record_id: 2
                      created_at: 
                      updated_at: 
                      html: ''
                    author_avatar_url: 
                    author_name: 
                  relationships:
                    comments:
                      data: []
    post:
      summary: create section
      security:
      - cookie: []
      tags:
      - Section
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '5'
                  type: section
                  attributes:
                    body: 
                    position: 1
                    created_at: '2022-02-11T13:56:34.105Z'
                    updated_at: '2022-02-11T13:56:34.130Z'
                    title: Brzeczyszczykiewicz
                    author_id: 158
                    appreciations_count: 0
                    comments_count: 0
                    appreciation_id: 
                    story_id: 3hj2BCJibzH
                    rich_body:
                      id: 10
                      name: rich_body
                      body: '{"body"=&gt;"some body"}'
                      record_type: Section
                      record_id: 5
                      created_at: '2022-02-11T13:56:34.127Z'
                      updated_at: '2022-02-11T13:56:34.127Z'
                      html: <div class="trix-content">  {"body"=&gt;"some body"}</div>
                    author_avatar_url: 
                    author_name: Joane Ortiz
                  relationships:
                    comments:
                      data: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                position:
                  type: integer
                title:
                  type: string
                rich_body:
                  type: object
                  properties:
                    body:
                      type: string
              example:
                position: 1
                rich_body:
                  body: some body
                title: Brzeczyszczykiewicz
  "/api/v1/publications/{publication_id}/sections/{id}":
    parameters:
    - name: publication_id
      in: path
      required: true
      schema:
        type: string
    - name: id
      in: path
      required: true
      schema:
        type: string
    patch:
      summary: update section
      security:
      - cookie: []
      tags:
      - Section
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '10'
                  type: section
                  attributes:
                    body: Section body
                    position: 1
                    created_at: '2022-02-11T13:56:35.102Z'
                    updated_at: '2022-02-11T13:56:35.171Z'
                    title: Brzeczyszczykiewicz
                    author_id: 166
                    appreciations_count: 0
                    comments_count: 0
                    appreciation_id: 
                    story_id: 5ghpt85ARGW
                    rich_body:
                      id: 12
                      name: rich_body
                      body: some body
                      record_type: Section
                      record_id: 10
                      created_at: '2022-02-11T13:56:35.168Z'
                      updated_at: '2022-02-11T13:56:35.168Z'
                      html: <div class="trix-content">  some body</div>
                    author_avatar_url: 
                    author_name: 
                  relationships:
                    comments:
                      data: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                position:
                  type: integer
                title:
                  type: string
                rich_body:
                  type: object
                  properties:
                    body:
                      type: string
              example:
                position: 1
                rich_body:
                  body: some body
                title: Brzeczyszczykiewicz
    delete:
      summary: delete section
      security:
      - cookie: []
      tags:
      - Section
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
  "/api/v1/publications/{publication_id}/story/duplicate":
    parameters:
    - name: publication_id
      in: path
      required: true
      schema:
        type: string
    post:
      summary: duplicate story
      security:
      - cookie: []
      tags:
      - Story
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: duplicate created
          content:
            application/json:
              example:
                data:
                  id: 7rQyjE8x8yM
                  type: story
                  attributes:
                    date: ''
                    description: ''
                    title: Copy Old Title
                    start_year: 
                    start_month: 
                    start_day: 
                    end_year: 
                    end_month: 
                    end_day: 
                    user_id: 173
                    is_range: false
                    date_as_text: ''
                    contributors_count: 0
                    sections_count: 0
                    created_at: '2022-02-11T13:56:36.148Z'
                    updated_at: '2022-02-11T13:56:36.148Z'
                    unread: 
                    published: true
                    links: []
                    categories: []
                    is_time_capsule: false
                    time_capsule_released: false
                    publish_on: 
                    cover_url: 
                    full_size_cover_url: 
                  relationships:
                    sections:
                      data: []
                    families:
                      data:
                      - id: 12Pm7fymKlu
                        type: family
                      - id: 12Pm7fymKlu
                        type: family
                    publications:
                      data:
                      - id: '51'
                        type: publication
                      - id: '52'
                        type: publication
  "/api/v1/publications/{publication_id}/story/notify":
    parameters:
    - name: publication_id
      in: path
      required: true
      schema:
        type: string
    - name: payload
      in: body
      schema:
        type: object
        properties:
          changed_attr:
            changed_generic:
              type: boolean
            changed_chapter:
              type: boolean
            chapter_id:
              type: int
    post:
      summary: notify contributors about new story changes
      security:
      - cookie: []
      tags:
      - Story
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
  "/api/v1/publications/{publication_id}/story/chapter_links":
    parameters:
    - name: publication_id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: list chapter_links
      security:
      - cookie: []
      tags:
      - Story
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: 5vR58WRXOWO
                  type: story
                  attributes:
                    date: ''
                    description: ''
                    title: Old Title
                    start_year: 
                    start_month: 
                    start_day: 
                    end_year: 
                    end_month: 
                    end_day: 
                    user_id: 181
                    is_range: false
                    date_as_text: ''
                    contributors_count: 0
                    sections_count: 0
                    created_at: '2022-02-11T13:56:37.061Z'
                    updated_at: '2022-02-11T13:56:37.061Z'
                    unread: 
                    published: true
                    links: []
                    categories: []
                    is_time_capsule: false
                    time_capsule_released: false
                    publish_on: 
                    cover_url: 
                    full_size_cover_url: 
                  relationships:
                    sections:
                      data: []
                    families:
                      data:
                      - id: PLEw7MLflR
                        type: family
                      - id: 9gPqOwTi3K9
                        type: family
                      - id: 9gPqOwTi3K9
                        type: family
                    publications:
                      data:
                      - id: '62'
                        type: publication
                      - id: '63'
                        type: publication
                      - id: '64'
                        type: publication
  "/api/v1/publications/{publication_id}/story":
    parameters:
    - name: publication_id
      in: path
      required: true
      schema:
        type: string
    patch:
      summary: update story
      security:
      - cookie: []
      tags:
      - Story
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: story updated
          content:
            application/json:
              example:
                data:
                  id: AxsRl8NEerj
                  type: story
                  attributes:
                    date: ''
                    description: some test description
                    title: some title
                    start_year: '2020'
                    start_month: January
                    start_day: '1'
                    end_year: '2020'
                    end_month: February
                    end_day: '2'
                    user_id: 185
                    is_range: true
                    date_as_text: January 1st - February 2nd, 2020
                    contributors_count: 0
                    sections_count: 0
                    created_at: '2022-02-11T13:56:37.490Z'
                    updated_at: '2022-02-11T13:56:37.641Z'
                    unread: 
                    published: true
                    links: []
                    categories:
                    - category1
                    - category2
                    - category3
                    is_time_capsule: false
                    time_capsule_released: false
                    publish_on: 
                    cover_url: "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBGQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e6fa8f95f2de91eecbcd5a3c77d3fa00712f5845/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJc0FXa0NMQUU9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--879821448b577288447c4bbd5aaf8d712dc4cae8/image.jpg"
                    full_size_cover_url: "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBGQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e6fa8f95f2de91eecbcd5a3c77d3fa00712f5845/image.jpg"
                  relationships:
                    sections:
                      data: []
                    families:
                      data:
                      - id: ljn2r7sSp3
                        type: family
                      - id: 2bdHnBt1LJh
                        type: family
                      - id: 2bdHnBt1LJh
                        type: family
                    publications:
                      data:
                      - id: '68'
                        type: publication
                      - id: '69'
                        type: publication
                      - id: '70'
                        type: publication
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                categories:
                  type: array
                description:
                  type: string
                start_year:
                  type: string
                start_month:
                  type: string
                start_day:
                  type: string
                end_year:
                  type: string
                end_month:
                  type: string
                end_day:
                  type: string
                cover:
                  type: string
                is_range:
                  type: boolean
              example:
                story:
                  title: some title
                  description: some test description
                  start_year: '2020'
                  start_month: January
                  start_day: '1'
                  end_year: '2020'
                  end_month: February
                  end_day: '2'
                  cover: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBGQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e6fa8f95f2de91eecbcd5a3c77d3fa00712f5845
                  is_range: true
                  categories:
                  - category1
                  - category2
                  - category3
    delete:
      summary: delete story
      security:
      - cookie: []
      tags:
      - Story
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
  "/api/v1/publications":
    get:
      summary: list publications
      tags:
      - Publication
      security:
      - cookie: []
      parameters:
      - name: family_id
        in: query
        schema:
          type: string
          example: 515
      - name: publication_visibility
        in: query
        schema:
          type: string
          enum:
          - private_stories
          - shared_stories
      - name: categories
        in: query
        schema:
          type: array
          example: []
      - name: author_id
        in: query
        schema:
          type: string
      - name: query
        in: query
        schema:
          type: string
      - name: sort_by
        in: query
        enum:
        - created_at
        - updated_at
        - title
        default: updated_at
        schema:
          type: string
      - name: sort_direction
        in: query
        enum:
        - ASC
        - DESC
        default: DESC
        schema:
          type: string
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: '84'
                  type: publication
                  attributes:
                    appreciations_count: 0
                    publish_on: 
                    comments_count: 0
                    all_comments_count: 0
                    share_type: community
                    family_id: 5gaCEiRWYqp
                    appreciation_id: 
                    unread: true
                    user_name: 
                    user_avatar: 
                    can_collaborate: true
                  relationships:
                    family:
                      data:
                        id: 5gaCEiRWYqp
                        type: family
                    story:
                      data:
                        id: 51YIo6gCGxb
                        type: story
                - id: '85'
                  type: publication
                  attributes:
                    appreciations_count: 0
                    publish_on: '2022-03-11'
                    comments_count: 0
                    all_comments_count: 0
                    share_type: community
                    family_id: 5gaCEiRWYqp
                    appreciation_id: 
                    unread: true
                    user_name: 
                    user_avatar: 
                    can_collaborate: true
                  relationships:
                    family:
                      data:
                        id: 5gaCEiRWYqp
                        type: family
                    story:
                      data:
                        id: 92f1gqe01qJ
                        type: story
                - id: '82'
                  type: publication
                  attributes:
                    appreciations_count: 0
                    publish_on: 
                    comments_count: 0
                    all_comments_count: 0
                    share_type: community
                    family_id: 5gaCEiRWYqp
                    appreciation_id: 
                    unread: true
                    user_name: 
                    user_avatar: 
                    can_collaborate: true
                  relationships:
                    family:
                      data:
                        id: 5gaCEiRWYqp
                        type: family
                    story:
                      data:
                        id: 92f1gqe01qJ
                        type: story
                included:
                - id: 5gaCEiRWYqp
                  type: family
                  attributes:
                    name: Test family
                    cover_url: 
                  relationships: {}
                - id: 51YIo6gCGxb
                  type: story
                  attributes:
                    date: ''
                    description: ''
                    title: title 28
                    start_year: 
                    start_month: 
                    start_day: 
                    end_year: 
                    end_month: 
                    end_day: 
                    user_id: 196
                    is_range: false
                    date_as_text: ''
                    contributors_count: 0
                    sections_count: 0
                    created_at: '2022-02-11T13:56:38.760Z'
                    updated_at: '2022-02-11T13:56:38.760Z'
                    unread: true
                    published: true
                    categories: []
                    is_time_capsule: false
                    time_capsule_released: false
                    publish_on: 
                    cover_url: 
                  relationships: {}
                - id: 92f1gqe01qJ
                  type: story
                  attributes:
                    date: ''
                    description: ''
                    title: title 27
                    start_year: 
                    start_month: 
                    start_day: 
                    end_year: 
                    end_month: 
                    end_day: 
                    user_id: 194
                    is_range: false
                    date_as_text: ''
                    contributors_count: 0
                    sections_count: 0
                    created_at: '2022-02-11T13:56:38.577Z'
                    updated_at: '2022-02-11T13:56:38.577Z'
                    unread: true
                    published: true
                    categories:
                    - initial_tag
                    is_time_capsule: false
                    time_capsule_released: false
                    publish_on: 
                    cover_url: 
                  relationships: {}
    post:
      summary: create publication
      security:
      - cookie: []
      tags:
      - Publication
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: '97'
                  type: publication
                  attributes:
                    appreciations_count: 0
                    publish_on: '3030-06-01'
                    comments_count: 0
                    all_comments_count: 0
                    share_type: community
                    family_id: 2iAIbvjllPu
                    appreciation_id: 
                    unread: 
                    user_name: Kena
                    user_avatar: 
                    can_collaborate: true
                    all_publications:
                    - id: 96
                      title: title 33
                  relationships:
                    family:
                      data:
                        id: 2iAIbvjllPu
                        type: family
                    story:
                      data:
                        id: 1qons5UHeSy
                        type: story
                    all_comments:
                      data: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: string
                  description: id of publication (can not be community type)
                families_ids:
                  type: array
                publish_on:
                  type: string
                share_type:
                  type: string
                  enum:
                  - community
                  - shared
                  - private
                  - personal
              example:
                publication:
                  id: 95
                  families_ids:
                  - 2iAIbvjllPu
                  publish_on:
                    year: '3030'
                    month: June
                    day: '1'
                  share_type: community
  "/api/v1/publications/{id}":
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: show publication
      tags:
      - Publication
      security:
      - cookie: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '89'
                  type: publication
                  attributes:
                    appreciations_count: 0
                    publish_on: 
                    comments_count: 1
                    all_comments_count: 3
                    share_type: shared
                    family_id: 1HXxcRLpqTT
                    appreciation_id: 
                    unread: 
                    user_name: 
                    user_avatar: 
                    can_collaborate: true
                    all_publications:
                    - id: 89
                      title: title 30
                  relationships:
                    family:
                      data:
                        id: 1HXxcRLpqTT
                        type: family
                    story:
                      data:
                        id: 8bmGTgoOSch
                        type: story
                    all_comments:
                      data:
                      - id: 6pNmaSY8wEL
                        type: comment
                      - id: 5wQwwnmDPb0
                        type: comment
                      - id: 1LAYUTyM1MC
                        type: comment
                included:
                - id: 6pNmaSY8wEL
                  type: comment
                  attributes:
                    body: Hello world
                    created_at: '2022-02-11T13:56:39.623Z'
                    user_id: 204
                    commentable_type: Publication
                    comments_count: 0
                    commentable_id: 89
                    family_id: 1HXxcRLpqTT
                    user_name: 
                    user_avatar_url: 
                  relationships:
                    comments:
                      data: []
                - id: 5wQwwnmDPb0
                  type: comment
                  attributes:
                    body: Hello world
                    created_at: '2022-02-11T13:56:39.706Z'
                    user_id: 205
                    commentable_type: Section
                    comments_count: 1
                    commentable_id: 16
                    family_id: 1HXxcRLpqTT
                    user_name: 
                    user_avatar_url: 
                  relationships:
                    comments:
                      data:
                      - id: 1LAYUTyM1MC
                        type: comment
                - id: 1LAYUTyM1MC
                  type: comment
                  attributes:
                    body: Hello world
                    created_at: '2022-02-11T13:56:39.796Z'
                    user_id: 206
                    commentable_type: Comment
                    comments_count: 0
                    commentable_id: 5wQwwnmDPb0
                    family_id: 1HXxcRLpqTT
                    user_name: 
                    user_avatar_url: 
                  relationships:
                    comments:
                      data: []
                - id: '89'
                  type: publication
                  attributes:
                    appreciations_count: 0
                    publish_on: 
                    comments_count: 1
                    all_comments_count: 3
                    share_type: shared
                    family_id: 1HXxcRLpqTT
                    appreciation_id: 
                    unread: 
                    user_name: 
                    user_avatar: 
                    can_collaborate: true
                    all_publications:
                    - id: 89
                      title: title 30
                  relationships:
                    family:
                      data:
                        id: 1HXxcRLpqTT
                        type: family
                    story:
                      data:
                        id: 8bmGTgoOSch
                        type: story
                    all_comments:
                      data:
                      - id: 6pNmaSY8wEL
                        type: comment
                      - id: 5wQwwnmDPb0
                        type: comment
                      - id: 1LAYUTyM1MC
                        type: comment
                - id: AeNOsgK7DP6
                  type: family
                  attributes:
                    name: Private Stories
                    motto: ''
                    family_type: Private
                    description: 
                    created_at: '2022-02-11T13:56:39.409Z'
                    users_ids:
                    - 202
                    admin_avatar_url: 
                    cover_url: 
                    vault_id: 
                    links: []
                    is_connected_by_current_user: true
                    connector_id: 202
                    connector_name: Stormy Jerde
                  relationships:
                    kinships:
                      data:
                      - id: '599'
                        type: kinship
                    chapters:
                      data: []
                - id: 1HXxcRLpqTT
                  type: family
                  attributes:
                    name: Test family
                    motto: ''
                    family_type: Community
                    description: 
                    created_at: '2022-02-11T13:56:39.541Z'
                    users_ids:
                    - 202
                    - 203
                    admin_avatar_url: 
                    cover_url: 
                    vault_id: 330
                    links: []
                    is_connected_by_current_user: true
                    connector_id: 202
                    connector_name: Stormy
                  relationships:
                    kinships:
                      data:
                      - id: '602'
                        type: kinship
                      - id: '603'
                        type: kinship
                    chapters:
                      data: []
                - id: 8bmGTgoOSch
                  type: story
                  attributes:
                    date: ''
                    description: ''
                    title: title 30
                    start_year: 
                    start_month: 
                    start_day: 
                    end_year: 
                    end_month: 
                    end_day: 
                    user_id: 202
                    is_range: false
                    date_as_text: ''
                    contributors_count: 0
                    sections_count: 1
                    created_at: '2022-02-11T13:56:39.429Z'
                    updated_at: '2022-02-11T13:56:39.635Z'
                    unread: 
                    published: true
                    links:
                    - id: 16
                      title: 
                      position: 0
                    categories:
                    - initial_tag
                    is_time_capsule: false
                    time_capsule_released: false
                    publish_on: 
                    cover_url: 
                    full_size_cover_url: 
                  relationships:
                    sections:
                      data:
                      - id: '16'
                        type: section
                    families:
                      data:
                      - id: AeNOsgK7DP6
                        type: family
                      - id: 1HXxcRLpqTT
                        type: family
                    publications:
                      data:
                      - id: '88'
                        type: publication
                      - id: '89'
                        type: publication
    delete:
      summary: delete publication
      security:
      - cookie: []
      tags:
      - Publication
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
  "/api/v1/received_invitations":
    get:
      summary: list received_invitations
      security:
      - cookie: []
      tags:
      - Received invitation
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: '078e962f-8d7e-4643-a16b-713f308ca56d'
                  type: invitation
                  attributes:
                    created_at: '2022-02-11T13:56:41.640Z'
                    sender_id: 219
                    recipient_id: 220
                    email: user9@example.com
                    accepted_at: 
                    message: ''
                    role: member
                    personal: false
                    family_id: 2kzVEG2To6O
                    family_name: Test family
                    family_type: Community
                    family_cover_url: 
                    sender_name: Vito
                    sender_kinship_id: 647
                  relationships:
                    family:
                      data:
                        id: 2kzVEG2To6O
                        type: family
  "/api/v1/sign_in":
    post:
      summary: session create
      tags:
      - User - API
      parameters: []
      responses:
        '302':
          description: successful
          content:
            application/json:
              example: <html><body>You are being <a href="http://www.example.com/stories">redirected</a>.</body></html>
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                session:
                  type: object
                  properties:
                    email:
                      type: string
                    password:
                      type: string
              example:
                session:
                  email: secret@email.com
                  password: secret
  "/api/v1/sign_up":
    post:
      summary: create user
      tags:
      - User - API
      parameters: []
      responses:
        '302':
          description: successful
          content:
            application/json:
              example: <html><body>You are being <a href="http://www.example.com/stories">redirected</a>.</body></html>
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  type: object
                  properties:
                    first_name:
                      type: string
                    last_name:
                      type: string
                    email:
                      type: string
                    password:
                      type: string
                    terms_and_conditions:
                      type: boolean
              example:
                user:
                  first_name: first
                  last_name: last
                  email: some@email.com
                  password: secret
                  terms_and_conditions: true
  "/api/v1/publications/{publication_id}/families":
    parameters:
    - name: publication_id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: list available families for publications
      security:
      - cookie: []
      tags:
      - Story
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: 5RJBpuYaUpH
                  type: family
                  attributes:
                    name: Z - should be first in response
                    cover_url: 
                  relationships: {}
                - id: 9FGuhhR6u8g
                  type: family
                  attributes:
                    name: A - should after personal family
                    cover_url: 
                  relationships: {}
  "/api/v1/story":
    post:
      summary: create story
      security:
      - cookie: []
      tags:
      - Story
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: story created
          content:
            application/json:
              example:
                data:
                  id: 5yIr8j7hUG9
                  type: story
                  attributes:
                    date: ''
                    description: some test description
                    title: some title
                    start_year: '2020'
                    start_month: January
                    start_day: '1'
                    end_year: '2020'
                    end_month: February
                    end_day: '2'
                    user_id: 238
                    is_range: true
                    date_as_text: January 1st - February 2nd, 2020
                    contributors_count: 0
                    sections_count: 0
                    created_at: '2022-02-11T13:56:43.859Z'
                    updated_at: '2022-02-11T13:56:43.938Z'
                    unread: 
                    published: true
                    links: []
                    categories:
                    - category1
                    - category2
                    - category3
                    is_time_capsule: false
                    time_capsule_released: false
                    publish_on: 
                    cover_url: "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBGZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b8ef962422f59e5a2c571a60107e69768d3e5c7d/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJc0FXa0NMQUU9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--879821448b577288447c4bbd5aaf8d712dc4cae8/image.jpg"
                    full_size_cover_url: "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBGZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b8ef962422f59e5a2c571a60107e69768d3e5c7d/image.jpg"
                  relationships:
                    sections:
                      data: []
                    families:
                      data:
                      - id: 32CBPkYPgE
                        type: family
                    publications:
                      data:
                      - id: '110'
                        type: publication
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                categories:
                  type: array
                description:
                  type: string
                start_year:
                  type: string
                start_month:
                  type: string
                start_day:
                  type: string
                end_year:
                  type: string
                end_month:
                  type: string
                end_day:
                  type: string
                cover:
                  type: string
                is_range:
                  type: boolean
              example:
                story:
                  title: some title
                  description: some test description
                  start_year: '2020'
                  start_month: January
                  start_day: '1'
                  end_year: '2020'
                  end_month: February
                  end_day: '2'
                  cover: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBGZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b8ef962422f59e5a2c571a60107e69768d3e5c7d
                  is_range: true
                  categories:
                  - category1
                  - category2
                  - category3
  "/api/v1/user":
    patch:
      summary: update user
      security:
      - cookie: []
      tags:
      - User - API
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '240'
                  type: user
                  attributes:
                    name: new first new last
                    first_name: new first
                    last_name: new last
                    location: 
                    email: some@new.email
                    phone: 
                    birth_date: 
                    onboarding:
                      completed: false
                    registration_method: direct
                    admin: false
                    vault_id: 386
                    personal_family_id: 96wiH3ToiSK
                    personal_private_families:
                    - id: Misp5doPlP
                      type: family
                      attributes:
                        name: Private Stories
                        cover_url: 
                      relationships: {}
                    - id: 96wiH3ToiSK
                      type: family
                      attributes:
                        name: My Life Stories
                        cover_url: 
                      relationships: {}
                    guest: 
                    trialing: 
                    active: 
                    private_family_id: Misp5doPlP
                  relationships:
                    families:
                      data:
                      - id: 4YZ5lyt5ovZ
                        type: family
                    kinships:
                      data:
                      - id: '705'
                        type: kinship
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                first_name:
                  type: string
                last_name:
                  type: string
                email:
                  type: string
                current_password:
                  type: string
                  description: required during email or password updating
                password:
                  type: string
                password_confirmation:
                  type: string
                onboarding:
                  type: json
              example:
                first_name: new first
                last_name: new last
                email: some@new.email
                current_password: current_password
                password: new_secret
                password_confirmation: new_secret
                onboarding:
                  completed: false
  "/api/v1/vaults/{vault_id}/attachments":
    parameters:
    - name: vault_id
      in: path
      required: true
      schema:
        type: string
    post:
      summary: create attachment
      security:
      - cookie: []
      tags:
      - Attachment
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: '9'
                  type: vault_item
                  attributes:
                    created_at: '2022-02-11T13:56:44.827Z'
                    user_id: 246
                    family_id: 
                    user_name: Dalila Sipes
                    size: 113 KB
                    name: some title 1.jpg
                    item_type: file
                    content_type: image/jpeg
                    url: "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBHUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--4187dbff6d94b1981c526c8d6679b9d6c1a24eae/image.jpg"
                    cover_url: "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBHUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--4187dbff6d94b1981c526c8d6679b9d6c1a24eae/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJc0FXa0NMQUU9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--879821448b577288447c4bbd5aaf8d712dc4cae8/image.jpg"
                    parent_boxes: []
                    blob_signed_id: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBHUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--4187dbff6d94b1981c526c8d6679b9d6c1a24eae
                - id: '10'
                  type: vault_item
                  attributes:
                    created_at: '2022-02-11T13:56:44.833Z'
                    user_id: 246
                    family_id: 
                    user_name: Dalila Sipes
                    size: 113 KB
                    name: image.jpg
                    item_type: file
                    content_type: image/jpeg
                    url: "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBHZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--48a0eff57ea08be187181b2f8d708a51c5a5e77f/image.jpg"
                    cover_url: "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBHZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--48a0eff57ea08be187181b2f8d708a51c5a5e77f/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJc0FXa0NMQUU9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--879821448b577288447c4bbd5aaf8d712dc4cae8/image.jpg"
                    parent_boxes: []
                    blob_signed_id: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBHZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--48a0eff57ea08be187181b2f8d708a51c5a5e77f
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                box_id:
                  type: string
                files:
                  type: array
                  items:
                    type: object
                    properties:
                      title:
                        type: string
                      signed_id:
                        type: string
              example:
                box_id: 
                files:
                - signed_id: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBHUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--4187dbff6d94b1981c526c8d6679b9d6c1a24eae
                  title: some title 1
                - signed_id: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBHZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--48a0eff57ea08be187181b2f8d708a51c5a5e77f
  "/api/v1/vaults/{vault_id}/attachments/move":
    parameters:
    - name: vault_id
      in: path
      required: true
      schema:
        type: string
    post:
      summary: move attachment
      security:
      - cookie: []
      tags:
      - Attachment
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                box_id:
                  type: string
                ids:
                  type: array
              required:
              - update_me_param
  "/api/v1/vaults/{vault_id}/attachments/copy":
    parameters:
    - name: vault_id
      in: path
      required: true
      schema:
        type: string
    post:
      summary: copy attachment
      security:
      - cookie: []
      tags:
      - Attachment
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                ids:
                  type: array
                new_vault_id:
                  type: string
                box_id:
                  type: string
              required:
              - ids
              - new_vault_id
  "/api/v1/vaults/{vault_id}/attachments/{id}":
    parameters:
    - name: vault_id
      in: path
      required: true
      schema:
        type: string
    - name: id
      in: path
      required: true
      schema:
        type: string
    patch:
      summary: update attachment
      security:
      - cookie: []
      tags:
      - Attachment
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '17'
                  type: vault_item
                  attributes:
                    created_at: '2022-02-11T13:56:45.478Z'
                    user_id: 252
                    family_id: 
                    user_name: Arnold Schinner
                    size: 113 KB
                    name: new title.jpg
                    item_type: file
                    content_type: image/jpeg
                    url: "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBJQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9821ea532fc861aa2aa7d8d3e3d243002e044047/image.jpg"
                    cover_url: "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBJQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9821ea532fc861aa2aa7d8d3e3d243002e044047/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJc0FXa0NMQUU9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--879821448b577288447c4bbd5aaf8d712dc4cae8/image.jpg"
                    parent_boxes: []
                    blob_signed_id: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBJQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9821ea532fc861aa2aa7d8d3e3d243002e044047
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
              required:
              - title
              example:
                title: new title
  "/api/v1/vaults/{vault_id}/boxes":
    parameters:
    - name: vault_id
      in: path
      required: true
      schema:
        type: string
    post:
      summary: create box
      security:
      - cookie: []
      tags:
      - Box
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '7'
                  type: vault_item
                  attributes:
                    created_at: '2022-02-11T13:56:45.711Z'
                    user_id: 
                    family_id: 
                    user_name: 
                    size: mocked size MB
                    name: box name
                    item_type: box
                    content_type: 
                    url: 
                    cover_url: 
                    parent_boxes:
                    - id: 6
                      parent_id: 
                      name: Box name 6
                    blob_signed_id: 
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                parent_box_id:
                  type: string
              required:
              - name
              example:
                name: box name
                parent_box_id: 6
  "/api/v1/vaults/{vault_id}/boxes/{id}":
    parameters:
    - name: vault_id
      in: path
      required: true
      schema:
        type: string
    - name: id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: show box
      security:
      - cookie: []
      tags:
      - Box
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '13'
                  type: vault_item
                  attributes:
                    created_at: '2022-02-11T13:56:45.885Z'
                    user_id: 
                    family_id: 
                    user_name: 
                    size: mocked size MB
                    name: child
                    item_type: box
                    content_type: 
                    url: 
                    cover_url: 
                    parent_boxes:
                    - id: 11
                      parent_id: 
                      name: parent_parent
                    - id: 12
                      parent_id: 11
                      name: parent
                    blob_signed_id: 
    patch:
      summary: update box
      security:
      - cookie: []
      tags:
      - Box
      parameters: []
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: change name
          content:
            application/json:
              example:
                data:
                  id: '22'
                  type: vault_item
                  attributes:
                    created_at: '2022-02-11T13:56:46.229Z'
                    user_id: 
                    family_id: 
                    user_name: 
                    size: mocked size MB
                    name: box name
                    item_type: box
                    content_type: 
                    url: 
                    cover_url: 
                    parent_boxes:
                    - id: 21
                      parent_id: 
                      name: Box name 11
                    blob_signed_id: 
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                parent_box_id:
                  type: string
              example:
                name: box name
  "/api/v1/vaults/{vault_id}/items":
    parameters:
    - name: vault_id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: list files and boxes
      security:
      - cookie: []
      tags:
      - VaultItems
      parameters:
      - name: query
        in: query
        schema:
          type: string
      - name: box_id
        in: query
        schema:
          type: string
      - name: sort_direction
        in: query
        enum:
        - ASC
        - DESC
        default: DESC
        schema:
          type: string
      - name: sort_by
        in: query
        enum:
        - name
        - content_type
        - created_at
        default: created_at
        schema:
          type: string
      - name: per_page
        in: query
        default: 10
        schema:
          type: integer
      - name: only_boxes
        in: query
        default: false
        schema:
          type: boolean
      - name: showcase_family
        in: query
        schema:
          type: boolean
      - name: showcase
        in: query
        schema:
          type: boolean
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: '27'
                  type: vault_item
                  attributes:
                    created_at: '2022-02-11T13:56:46.526Z'
                    user_id: 
                    family_id: 
                    user_name: 
                    size: mocked size MB
                    name: z2
                    item_type: box
                    content_type: 
                    url: 
                    cover_url: 
                    parent_boxes: []
                    blob_signed_id: 
                - id: '28'
                  type: vault_item
                  attributes:
                    created_at: '2022-02-11T13:56:46.535Z'
                    user_id: 
                    family_id: 
                    user_name: 
                    size: mocked size MB
                    name: g3
                    item_type: box
                    content_type: 
                    url: 
                    cover_url: 
                    parent_boxes: []
                    blob_signed_id: 
                - id: '26'
                  type: vault_item
                  attributes:
                    created_at: '2022-02-11T13:56:46.520Z'
                    user_id: 
                    family_id: 
                    user_name: 
                    size: mocked size MB
                    name: a1
                    item_type: box
                    content_type: 
                    url: 
                    cover_url: 
                    parent_boxes: []
                    blob_signed_id: 
                - id: '24'
                  type: vault_item
                  attributes:
                    created_at: '2022-02-11T13:56:46.509Z'
                    user_id: 261
                    family_id: 
                    user_name: Eloise Russel
                    size: 58.6 KB
                    name: image_3.png
                    item_type: file
                    content_type: image/png
                    url: "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBKdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--d590f2d436fc1766a9219902deca06c9586f3099/image_3.png"
                    cover_url: "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBKdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--d590f2d436fc1766a9219902deca06c9586f3099/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJc0FXa0NMQUU9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--499b582f723ae47220a32152caf7c7a6535452f0/image_3.png"
                    parent_boxes: []
                    blob_signed_id: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBKdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--d590f2d436fc1766a9219902deca06c9586f3099
                - id: '23'
                  type: vault_item
                  attributes:
                    created_at: '2022-02-11T13:56:46.495Z'
                    user_id: 261
                    family_id: 
                    user_name: Eloise Russel
                    size: 69.2 KB
                    name: summer.png
                    item_type: file
                    content_type: image/png
                    url: "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBKZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--58d27a8bd3874bbcffa78332bf9a3a2463af0883/image_2.png"
                    cover_url: "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBKZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--58d27a8bd3874bbcffa78332bf9a3a2463af0883/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJc0FXa0NMQUU9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--499b582f723ae47220a32152caf7c7a6535452f0/image_2.png"
                    parent_boxes: []
                    blob_signed_id: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBKZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--58d27a8bd3874bbcffa78332bf9a3a2463af0883
                - id: '22'
                  type: vault_item
                  attributes:
                    created_at: '2022-02-11T13:56:46.483Z'
                    user_id: 261
                    family_id: 
                    user_name: Eloise Russel
                    size: 113 KB
                    name: image.jpg
                    item_type: file
                    content_type: image/jpeg
                    url: "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBKUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--d3f4c9b30c11f5bf5c24767614d221053df0df1e/image.jpg"
                    cover_url: "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBKUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--d3f4c9b30c11f5bf5c24767614d221053df0df1e/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJc0FXa0NMQUU9IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--879821448b577288447c4bbd5aaf8d712dc4cae8/image.jpg"
                    parent_boxes: []
                    blob_signed_id: eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBKUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--d3f4c9b30c11f5bf5c24767614d221053df0df1e
    delete:
      summary: bulk_delete files and boxes
      security:
      - cookie: []
      tags:
      - VaultItems
      parameters: []
      responses:
        '401':
          description: with selected file of another user it return error
          content:
            application/json:
              example:
                message: unauthorized
        '204':
          description: successful
        '403':
          description: with child box it return error
          content:
            application/json:
              example:
                message: Some of the selected boxes contain child boxes, please deselect
                  them first.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                boxes_ids:
                  type: array
                files_ids:
                  type: array
              example:
                boxes_ids:
                - 43
                - 42
                files_ids:
                - 42
                - 43
  "/api/v1/vaults":
    parameters:
    - name: query
      in: query
      schema:
        type: string
    get:
      summary: list vaults
      security:
      - cookie: []
      tags:
      - Vault
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                - id: '427'
                  type: vault
                  attributes:
                    owner_type: User
                    owner_id: 269
                    name: My Vault
                    avatar_url: 
                - id: '431'
                  type: vault
                  attributes:
                    owner_type: Family
                    owner_id: 9B4mfZdZYh
                    name: Aloha 2000 Vault
                    avatar_url: 
                - id: '429'
                  type: vault
                  attributes:
                    owner_type: Family
                    owner_id: 1ox5m3gVhdx
                    name: Summer 2004 Vault
                    avatar_url: 
                - id: '430'
                  type: vault
                  attributes:
                    owner_type: Family
                    owner_id: 93ZhhusTWwH
                    name: Summer 2007 Vault
                    avatar_url: 
                - id: '428'
                  type: vault
                  attributes:
                    owner_type: Family
                    owner_id: 5iT37kka94Y
                    name: Summer 2008 Vault
                    avatar_url: 
  "/api/v1/vaults/{id}":
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: show vault
      security:
      - cookie: []
      tags:
      - Vault
      parameters:
      - name: showcase
        in: query
        schema:
          type: boolean
      responses:
        '401':
          description: unauthorized
          content:
            application/json:
              example:
                message: unauthorized
        '200':
          description: successful
          content:
            application/json:
              example:
                data:
                  id: '438'
                  type: vault
                  attributes:
                    owner_type: User
                    owner_id: 272
                    name: My Vault
                    avatar_url: 
  "/publications/{publication_id}/download":
    parameters:
    - name: publication_id
      in: path
      required: true
      schema:
        type: string
    get:
      summary: download
      security:
      - cookie: []
      tags:
      - Download
      responses:
        '401':
          description: unauthorized
        '200':
          description: successful
  "/users":
    post:
      summary: create user
      tags:
      - User
      parameters: []
      responses:
        '302':
          description: successful
          content:
            application/json:
              example: <html><body>You are being <a href="http://www.example.com/stories">redirected</a>.</body></html>
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                invitation_id:
                  type: string
                user:
                  type: object
                  properties:
                    first_name:
                      type: string
                    last_name:
                      type: string
                    email:
                      type: string
                    password:
                      type: string
                    terms_and_conditions:
                      type: boolean
              example:
                user:
                  first_name: first
                  last_name: last
                  email: some@email.com
                  password: secret
                  terms_and_conditions: true
  "/vaults/{vault_id}/download":
    get:
      summary: download
      security:
      - cookie: []
      tags:
      - Download
      parameters:
      - name: vault_id
        in: path
        required: true
        schema:
          type: string
      - name: ids[]
        collectionFormat: multi
        in: query
        schema:
          type: array
      responses:
        '401':
          description: unauthorized
        '302':
          description: successful - one file
          content:
            application/json:
              example: <html><body>You are being <a href="http://www.example.com/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBRQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9dccefc5ffaf9893678775fa197ba5f4bba082de/some.image.jpg?disposition=attachment">redirected</a>.</body></html>
        '200':
          description: successful - multiple files
servers:
- url: http://{defaultHost}
  variables:
    defaultHost:
      default: localhost:3000
